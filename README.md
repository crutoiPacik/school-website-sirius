# School Website - "ХОГВАРДС"

Современный школьный сайт, построенный на Vue.js с Vuex для управления состоянием.

## Технологии

- **Vue.js 3** - Прогрессивный JavaScript фреймворк
- **Vuex** - Управление состоянием
- **Vue Router** - Маршрутизация
- **Vite** - Быстрый инструмент сборки и сервер разработки
- **ESLint** - Линтинг кода
- **Prettier** - Форматирование кода

## Быстрый старт

1. Установите зависимости:
```bash
npm install
```

2. Запустите сервер разработки:
```bash
npm run dev
```

3. Соберите проект для продакшена:
```bash
npm run build
```

## Структура проекта

```
src/
├── components/           # Vue компоненты
│   ├── Modal.vue        # Базовый компонент модального окна
│   ├── Button.vue       # Переиспользуемый компонент кнопки
│   ├── FormInput.vue    # Компонент текстового поля
│   ├── FormTextarea.vue # Компонент многострочного поля
│   ├── DatePicker.vue   # Компонент выбора даты
│   ├── GenderSelector.vue   # Компонент выбора пола
│   ├── ClassSelector.vue    # Компонент выбора класса
│   └── COMPONENTS_GUIDE.md  # Руководство по компонентам
├── views/                # Страницы приложения
├── store/                # Vuex store
├── assets/               # Статические ресурсы
└── main.js               # Точка входа приложения
```

## Переиспользуемые компоненты

Проект использует систему переиспользуемых компонентов для обеспечения консистентности UI:

- **Modal** - базовый компонент для всех модальных окон
- **Button** - универсальная кнопка с вариантами (primary, secondary, success, danger)
- **FormInput** - текстовое поле с валидацией и счетчиком символов
- **FormTextarea** - многострочное поле с валидацией
- **DatePicker** - выбор даты с валидацией диапазона
- **GenderSelector** - выбор пола с кнопками
- **ClassSelector** - выбор класса из списка

Подробное руководство см. в [COMPONENTS_GUIDE.md](src/components/COMPONENTS_GUIDE.md)

## Архитектура проекта

### Общая архитектура

Проект построен на основе **компонентной архитектуры Vue.js 3** с централизованным управлением состоянием через **Vuex**. Приложение следует паттерну **Single Page Application (SPA)** с клиентской маршрутизацией.

### Слои приложения

#### 1. **Presentation Layer (Слой представления)**
   - **Views** (`src/views/`) - страницы приложения:
     - `GroupsPage.vue` - главная страница со списком групп и рейтингом
     - `GroupDetailsPage.vue` - детальная информация о группе
     - `CreateGroupPage.vue` - создание новой группы
     - `AddStudentPage.vue` - добавление нового ученика
   
   - **Components** (`src/components/`) - переиспользуемые компоненты:
     - Базовые компоненты (Modal, Button)
     - Компоненты форм (FormInput, FormTextarea, DatePicker, GenderSelector, ClassSelector)
     - Модальные окна (AddStudentModal, EditGroupModal, StudentSelectionModal)
     - Навигация (Sidebar)

#### 2. **State Management Layer (Слой управления состоянием)**
   - **Vuex Store** (`src/main.js`) - централизованное хранилище:
     - **State** - глобальное состояние приложения (группы, ученики, формы, модальные окна)
     - **Mutations** - синхронные изменения состояния
     - **Actions** - асинхронные операции и бизнес-логика
     - **Getters** - вычисляемые производные от состояния

#### 3. **Data Persistence Layer (Слой хранения данных)**
   - **LocalStorage** - клиентское хранилище для:
     - Пользовательских групп
     - Добавленных учеников
     - Связей учеников с группами
   - Статические данные захардкожены в store (базовые группы: Гриффиндор, Слизерин, Когтевран)

### Паттерны и принципы

#### **Component-Based Architecture**
- Разделение UI на независимые, переиспользуемые компоненты
- Композиция компонентов для построения сложных интерфейсов
- Props для передачи данных вниз, Events для коммуникации вверх

#### **Unidirectional Data Flow**
```
User Action → Action (Vuex) → Mutation → State Update → Component Re-render
```

#### **DRY (Don't Repeat Yourself)**
- Переиспользуемые компоненты форм
- Базовый компонент Modal для всех модальных окон
- Единый компонент Button с вариантами стилей

#### **Separation of Concerns**
- **Views** - композиция страниц из компонентов
- **Components** - UI логика и представление
- **Store** - бизнес-логика и управление состоянием
- **Styles** - инкапсулированы в компонентах (scoped styles)

### Потоки данных

#### Поток создания группы:
```
CreateGroupPage → Vuex Action (createNewGroup) 
→ Mutation (ADD_GROUP) → State Update 
→ LocalStorage.setItem → GroupsPage Update
```

#### Поток добавления ученика:
```
AddStudentPage → Vuex Action (addNewStudent) 
→ Validation → Mutation (ADD_STUDENT_TO_LIST) 
→ State Update → LocalStorage.setItem 
→ Available Students Update
```

### Маршрутизация

**Vue Router** управляет навигацией:
- `/` - главная страница (список групп)
- `/groups/new` - создание новой группы
- `/groups/:id` - детальная страница группы
- `/students/new` - добавление ученика

### Управление состоянием

**Vuex Store Structure:**
```javascript
{
  // UI состояние
  isCollapsed: Boolean,
  activeSection: String,
  isAddStudentModalOpen: Boolean,
  isEditGroupModalOpen: Boolean,
  isStudentSelectionModalOpen: Boolean,
  
  // Данные
  groups: Array,
  allStudents: Array,
  currentGroup: Object,
  groupTasks: Array,
  groupStudents: Array,
  availableStudents: Array,
  
  // Формы
  newGroupForm: Object,
  newStudentForm: Object,
  selectedStudents: Array,
  
  // Валидация
  formValidation: Object,
  studentFormErrors: Object
}
```

### Стратегия валидации

1. **Клиентская валидация** - в реальном времени через Vuex actions
2. **Типы валидации**:
   - Обязательные поля
   - Длина строк (min/max)
   - Формат данных (ФИО - только кириллица)
   - Диапазон дат (возраст 6-18 лет)
3. **Отображение ошибок** - через props компонентов форм

### Стратегия стилизации

- **Scoped Styles** - инкапсуляция стилей в компонентах
- **Цветовая палитра**:
  - Primary: `#20C997` (бирюзовый)
  - Secondary: `#6c757d` (серый)
  - Success: `#27ae60` (зеленый)
  - Danger: `#e74c3c` (красный)
  - Accent: `#FF8C42` (оранжевый)
- **Адаптивный дизайн** - mobile-first подход

### Оптимизация производительности

1. **Lazy Loading** компонентов страниц через динамические импорты
2. **Computed Properties** для кэширования вычислений
3. **LocalStorage** для персистентности без серверных запросов
4. **Scoped Styles** для изоляции CSS и предотвращения конфликтов

### Расширяемость

Архитектура позволяет легко:
- Добавлять новые страницы через Vue Router
- Создавать новые компоненты, переиспользуя базовые
- Расширять Vuex store новыми модулями
- Интегрировать с backend API (заменив LocalStorage на HTTP запросы)

## Разработка

- Сервер разработки запускается на `http://localhost:5173`
- Включена горячая перезагрузка модулей
- ESLint настроен для Vue.js
- Prettier для форматирования кода

## Функциональность

### 1. Главная страница (GroupsPage)

**Карточки групп:**
- Отображение существующих групп (Гриффиндор, Слизерин, Когтевран)
- Каждая карточка содержит название, количество учеников и уникальную иконку
- Карточка "Добавить группу" для создания новых групп
- Цветовое кодирование групп (оранжевый, бирюзовый, серый)

**Таблица рейтинга:**
- Отображение групп, отсортированных по баллам
- Колонки: Место, Название группы, Количество баллов
- Иконки стрелок для индикации роста баллов

**Навигация:**
- Боковая панель с логотипом "ХОГВАРДС"
- Меню: Группы (с подменю), Добавить ученика, Уведомления
- Возможность сворачивания/разворачивания панели

### 2. Детальная страница группы (GroupDetailsPage)

**Информация о группе:**
- Название и описание группы
- Кнопка редактирования группы

**Задания группы:**
- Горизонтальный скролл карточек заданий
- Каждое задание содержит: название, даты, уровень (школьный/муниципальный/всероссийский)
- Кнопки статуса: "Не выполнено" / "Выполнено"

**Рейтинг учеников:**
- Таблица с учениками группы (Место, ФИО, Класс, Баллы)
- Сортировка по баллам, имени, дате рождения
- Поиск учеников с выпадающим списком результатов
- Кнопка "Добавить ученика" для пополнения группы
- Выделение топ-3 учеников

**Модальные окна:**
- Добавление учеников в группу из доступных
- Редактирование названия и описания группы

### 3. Страница создания группы (CreateGroupPage)

**Форма группы:**
- Поле "Название" с валидацией и счетчиком символов
- Поле "Описание группы" с валидацией и счетчиком символов

**Выбор учеников:**
- Область "Добавить учеников" с пунктирной рамкой
- Модальное окно со списком доступных учеников
- Таблица выбранных учеников с возможностью удаления
- Отображение места, ФИО, класса и баллов

**Валидация:**
- Название: 3-50 символов
- Описание: 10-500 символов
- Минимум 1 ученик в группе

### 4. Страница добавления ученика (AddStudentPage)

**Форма ученика:**
- **ФИО*** - текстовое поле с валидацией (3-100 символов, только кириллица)
- **Дата рождения*** - календарь с ограничением возраста (6-18 лет)
- **Пол*** - переключатели "Мужской" / "Женский"
- **Класс обучения*** - dropdown с выбором класса (1.1 - 11.3)

**Валидация в реальном времени:**
- Проверка всех полей при вводе
- Отображение ошибок под полями
- Счетчик символов для ФИО

**Сохранение:**
- Данные сохраняются в LocalStorage
- Уведомление об успешном добавлении
- Автоматическое добавление в список доступных учеников

### 5. Хранение данных

**LocalStorage:**
- Сохранение пользовательских групп
- Сохранение добавленных учеников
- Связи учеников с группами
- Автоматическая загрузка при открытии приложения

**Статические данные:**
- Базовые группы (Гриффиндор, Слизерин, Когтевран)
- Демонстрационные ученики и задания

### 6. Адаптивность

- Полная адаптация под мобильные устройства
- Сворачивание боковой панели на малых экранах
- Адаптивные таблицы и формы
- Touch-friendly интерфейс

---

## Лицензия

MIT
